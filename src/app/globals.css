/* src/app/globals.css */

/* Tailwind v4 import */
@import "tailwindcss";

/* Display font */
@import url('https://fonts.googleapis.com/css2?family=Cal+Sans:wght@600;700&display=swap');

/* -------------------- Base tokens & element defaults -------------------- */
@layer base {
  :root {
    /* Premium Color Variables */
    --primary: 260 85% 60%;
    --primary-foreground: 0 0% 100%;

    --secondary: 260 60% 50%;
    --secondary-foreground: 0 0% 100%;

    --background: 260 40% 98%;
    --foreground: 260 40% 10%;

    --card: 0 0% 100%;
    --card-foreground: 260 40% 10%;

    --popover: 0 0% 100%;
    --popover-foreground: 260 40% 10%;

    --muted: 260 20% 95%;
    --muted-foreground: 260 10% 45%;

    --accent: 260 60% 95%;
    --accent-foreground: 260 60% 20%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 98%;

    --border: 260 20% 90%;
    --input: 260 20% 90%;
    --ring: 260 85% 60%;

    --radius: 1rem;

    /* Gradients (token defaults) */
    --gradient-primary-start: #667eea;
    --gradient-primary-end:   #764ba2;
    --gradient-yin-start:     #5a15f0;
    --gradient-yin-end:       #250971;
    --gradient-yang-start:    #ff740a;
    --gradient-yang-end:      #ff5900;
  }

  .dark {
    --background: 260 40% 5%;
    --foreground: 0 0% 95%;

    --card: 260 40% 8%;
    --card-foreground: 0 0% 95%;

    --popover: 260 40% 8%;
    --popover-foreground: 0 0% 95%;

    --muted: 260 30% 15%;
    --muted-foreground: 260 10% 60%;

    --accent: 260 50% 15%;
    --accent-foreground: 260 60% 90%;

    --border: 260 30% 18%;
    --input: 260 30% 18%;

    /* Dark gradients */
    --gradient-primary-start: #4c54d2;
    --gradient-primary-end:   #5e3a85;
  }

  /* set border color directly (don’t @apply border-border) */
  *, ::before, ::after { border-color: hsl(var(--border)); }

  /* use tokens directly (don’t @apply bg-background/text-foreground) */
  body {
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
    font-family: var(--font-inter), system-ui, sans-serif;
    font-feature-settings: "rlig" 1, "calt" 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Headings: Cal Sans */
  h1, h2, h3, h4, h5, h6 {
    font-family: "Cal Sans", system-ui, sans-serif;
    font-weight: 700;
  }
}

/* -------------------- Components -------------------- */
@layer components {
  /* Glass */
  .glass      { @apply bg-white/10 backdrop-blur-lg border border-white/20; }
  .glass-dark { @apply bg-black/10 backdrop-blur-lg border border-white/10; }

  /* Cards (explicit gradients instead of from-/to- utilities) */
  .card-premium {
    @apply relative overflow-hidden rounded-2xl backdrop-blur-xl border shadow-xl;
    border-color: rgba(255,255,255,0.5);
    background-image: linear-gradient(to bottom right, rgba(255,255,255,0.9), rgba(255,255,255,0.7));
  }
  .card-premium-dark {
    @apply relative overflow-hidden rounded-2xl backdrop-blur-xl border shadow-2xl;
    border-color: rgba(255,255,255,0.1);
    background-image: linear-gradient(to bottom right, rgba(17,24,39,0.9), rgba(17,24,39,0.7)); /* gray-900 */
  }

  /* Gradient text (explicit gradient) */
  .gradient-text {
    background-image: linear-gradient(90deg, #7916ff 0%, #7c3aed 100%); /* primary-600 → purple-600 */
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }
  .gradient-text-yin {
    background-image: linear-gradient(90deg, #6928ff 0%, #4a11ca 100%);  /* yin-600 → yin-800 */
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }
  .gradient-text-yang {
    background-image: linear-gradient(90deg, #ff740a 0%, #ff5900 100%);  /* yang-500 → yang-600 */
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }

  /* Buttons (explicit gradient) */
  .btn-premium {
    @apply relative inline-flex items-center justify-center px-6 py-3 font-semibold text-white
           transition-all duration-300 rounded-xl shadow-lg hover:shadow-xl hover:scale-105
           active:scale-100 disabled:opacity-50 disabled:cursor-not-allowed;
    background-image: linear-gradient(90deg, #7916ff 0%, #7c3aed 100%);
  }
  .btn-glass {
    @apply relative inline-flex items-center justify-center px-6 py-3 font-semibold
           transition-all duration-300 border rounded-xl hover:bg-white/20 active:scale-95;
    background-color: rgba(255,255,255,0.1);
    backdrop-filter: blur(12px);
    border-color: rgba(255,255,255,0.2);
  }

  /* Glows */
  .glow-primary { box-shadow: 0 0 20px rgba(132, 61, 255, 0.3); }
  .glow-yin     { box-shadow: 0 0 20px rgba(90, 21, 240, 0.3); }
  .glow-yang    { box-shadow: 0 0 20px rgba(255, 116, 10, 0.3); }

  /* Progress (explicit gradients) */
  .progress-gradient { background-image: linear-gradient(90deg, #843dff, #a855f7, #ec4899); } /* primary-500 → purple-500 → pink-500 */
  .progress-yin      { background-image: linear-gradient(90deg, #6928ff, #9b82ff); }
  .progress-yang     { background-image: linear-gradient(90deg, #ff740a, #ff5900); }

  /* Widget container (explicit gradients for light/dark) */
  .widget-container {
    @apply relative overflow-hidden rounded-2xl p-6 border shadow-xl transition-all duration-300;
    background-image: linear-gradient(to bottom right, rgba(255,255,255,0.8), rgba(255,255,255,0.6));
    backdrop-filter: blur(16px);
    border-color: rgba(255,255,255,0.5);
  }
  :where(.dark) .widget-container {
    background-image: linear-gradient(to bottom right, rgba(17,24,39,0.8), rgba(17,24,39,0.6)); /* gray-900 */
    border-color: rgba(255,255,255,0.1);
  }

  /* Nav */
  .nav-item {
    @apply relative flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200;
  }
  .nav-item:hover { background-color: rgba(255,255,255,0.1); }
  :where(.dark) .nav-item:hover { background-color: rgba(255,255,255,0.05); }

  .nav-item-active {
    border-left: 4px solid #843dff; /* primary-500 */
    background-image: linear-gradient(90deg, rgba(132,61,255,0.2), rgba(168,85,247,0.2)); /* primary-500/20 → purple-500/20 */
  }
}

/* -------------------- Utilities & misc -------------------- */
@layer utilities {
  .text-balance { text-wrap: balance; }
}

/* Animations */
.animate-float { animation: float 6s ease-in-out infinite; }
.animate-pulse-glow { animation: pulse-glow 2s ease-in-out infinite; }

@keyframes float {
  0%,100% { transform: translateY(0); }
  50%     { transform: translateY(-6px); }
}
@keyframes pulse-glow {
  0%,100% { box-shadow: 0 0 20px rgba(132, 61, 255, 0.3); }
  50%     { box-shadow: 0 0 40px rgba(132, 61, 255, 0.6); }
}

/* Scrollbar */
.scrollbar-thin { scrollbar-width: thin; }
.scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
.scrollbar-hide::-webkit-scrollbar { display: none; }

::-webkit-scrollbar { width: 10px; height: 10px; }
::-webkit-scrollbar-track { background: #f3f4f6; }                         /* gray-100 */
:where(.dark) ::-webkit-scrollbar-track { background: #111827; }           /* gray-900 */
::-webkit-scrollbar-thumb {
  border-radius: 9999px;
  background-image: linear-gradient(180deg, #9f75ff, #a78bfa);             /* primary-400 → purple-400 */
}
::-webkit-scrollbar-thumb:hover {
  background-image: linear-gradient(180deg, #843dff, #9333ea);             /* primary-500 → purple-500 */
}

/* Selection + Focus */
::selection {
  background-color: rgba(132,61,255,0.3); /* primary-500/30 */
  color: #1f1140;
}
:where(.dark) ::selection { color: #efe9ff; }
:focus { outline: none; box-shadow: 0 0 0 2px rgba(132,61,255,0.5); }
